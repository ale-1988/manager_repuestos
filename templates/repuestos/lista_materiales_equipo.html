<style>
.table-eq {
    width: 100%;
    border-collapse: collapse;
    table-layout: fixed;   /* Fuerza columnas uniformes */
}

.table-eq th, .table-eq td {
    padding: 4px;
}

/* Columnas con anchos fijos */
.col-id {
    width: 10%;
    text-align: center;
}
.col-valor {
    width: 70%;
}
.col-cantidad {
    width: 20%;
    text-align: center;
}
</style>

<h2>Materiales del equipo: {{ equipo.equipo }}</h2>

{% if grupos %}
    {% for grupo, mats in grupos.items %}
        
<h3 style="background:#75a7f2; color:white; padding:5px; border-radius:4px;">
    {{ grupo }} ({{ mats|length }})
</h3>

<table class="table-eq" border="1" cellpadding="4" width="100%" style="margin-bottom:20px;">
    
    <colgroup>
        <col style="width: 12%;">
        <col style="width: 68%;">
        <col style="width: 20%;">
    </colgroup>
        
    <thead style="background-color:#bed1e3;">
        <tr>
            <th style="text-align:center;">ID</th>
            <th>Valor</th>
            <th style="text-align:center;">Cantidad</th>
        </tr>
    </thead>

    <tbody>
    {% for m in mats %}
        <tr>
            <td style="text-align:center;">{{ m.id_mate }}</td>
            <td class="col-valor">
                {% if m.is_conjunto %}
                    <a href="{% url 'repuestos:lista_materiales_equipo' m.id_mate %}">{{ m.valor }}</a>
                {% else %}
                    {{ m.valor }}
                {% endif %}
            </td>

            <!-- Cantidad centrada y sin ceros innecesarios -->
            <td class="col-cantidad">{{ m.cantidad }}</td>
        </tr>
    {% endfor %}
    </tbody>
</table>


    {% endfor %}
{% else %}
    <div class="alert alert-warning">
        No se encontraron materiales para este equipo.
    </div>
{% endif %}

